{% extends "imagegallery/layout.html" %}

{% block title %}
    Add Photos
{% endblock %}

{% block body %}

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-4">
            <a href="{% url 'imagegallery:gallery' %}" class="btn btn-primary my-3">Back to Gallery</a>
          
           <div class="card">
               <form action = "" method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                {% if message %}
                    <div class="alert alert-warning" role="alert">
                    {{message}}
                    </div>
                {% endif %}       
                
                {% for field in form %} 

                    <div class="form-group m-3">
                        <label>{{ field.label }}:</label>
                    </div>
                    
                    <div class="form-group m-3">
                        {{ field }}
                    </div>                    

                    {% if field.label == "Category" %}
                    <div class="form-group m-3">
                        <label>Create a new category:</label>
                        <input name="category_new" id="category_new" type="text" placeholder="Type a new category here" class="form-control" value={{category_new}}>
                    </div>
                    {% endif %}
 

                {% endfor %}
                              
                <div class="form-group m-3">
                    {% if image_err_msg %}
                    <div class="alert alert-warning" role="alert">
                    {{image_err_msg}}
                    </div>
                {% endif %}   
                    <input name="images" type="file" id="images" class="form-control-file" multiple required />
                </div>

                

                <button type="submit" class="btn btn-primary m-3">Upload</button>
               </form>
           </div>

        </div>

</div>
</div>

{% endblock %}